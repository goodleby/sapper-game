parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ASXP":[function(require,module,exports) {
var define;
var n;!function(r,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof n&&n.amd?n([],t):"object"==typeof exports?exports.goodlebyLib=t():r.goodlebyLib=t()}(self,function(){return function(){"use strict";var n={d:function(r,t){for(var e in t)n.o(t,e)&&!n.o(r,e)&&Object.defineProperty(r,e,{enumerable:!0,get:t[e]})},o:function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},r:function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},r={};n.r(r),n.d(r,{addTime:function(){return x},camelize:function(){return b},countDecimals:function(){return i},debounce:function(){return O},filterPhone:function(){return M},floorTo:function(){return o},gcd:function(){return c},getDOM:function(){return E},getMatrix:function(){return p},getMatrixClone:function(){return s},getMemoizedFn:function(){return T},getPrimes:function(){return z},getRandBool:function(){return e},getRandNum:function(){return t},getRandPrime:function(){return L},getScrollbarHeight:function(){return S},getScrollbarWidth:function(){return j},linearMatrixDot:function(){return h},matrixApply:function(){return m},matrixDot:function(){return a},matrixMinus:function(){return l},matrixPlus:function(){return f},onSwipe:function(){return P},popSlash:function(){return d},regexpEscape:function(){return y},relativeUrl:function(){return v},roundTo:function(){return u},shuffleArr:function(){return A},stringReplace:function(){return w},transposeMatrix:function(){return g}});var t=function(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],e=Math.floor(Math.random()*(r-n+1-t.length)+n);return t.sort(function(n,r){return n-r}).every(function(n){return n<=e&&(e++,!0)}),e},e=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;return Math.random()<n},u=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(n*Math.pow(10,r))/Math.pow(10,r)},o=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(n*Math.pow(10,r))/Math.pow(10,r)},i=function(n){return Math.floor(n)!==n?n.toString().split(".")[1].length:0},c=function n(r,t){return 0===t?r:n(t,r%t)},a=function(n,r){var t=[n,r],e=t.map(function(n){return n[0].length});if(!t.every(function(n,r){return n.every(function(n){return n.length===e[r]})}))throw new Error("All rows in a matrix must have an equal amount of columns");if(e[0]!==r.length)throw new Error("Amount of columns in the 1st matrix must match an amount of rows in the 2nd matrix");return n.map(function(n){return r[0].map(function(t,e){return n.reduce(function(n,t,u){return n+t*r[u][e]},0)})})},f=function(n,r){var t=[n,r],e=n[0].length;if(!t.every(function(n){return n.every(function(n){return n.length===e})})||n.length!==r.length)throw new Error("Matrices must be same size");return n.map(function(n,t){return n.map(function(n,e){return n+r[t][e]})})},l=function(n,r){var t=[n,r],e=n[0].length;if(!t.every(function(n){return n.every(function(n){return n.length===e})})||n.length!==r.length)throw new Error("Matrices must be same size");return n.map(function(n,t){return n.map(function(n,e){return n-r[t][e]})})},h=function(n,r){var t=[n,r],e=n[0].length;if(!t.every(function(n){return n.every(function(n){return n.length===e})})||n.length!==r.length)throw new Error("Matrices must be same size");return n.map(function(n,t){return n.map(function(n,e){return n*r[t][e]})})},m=function(n,r){return n.map(function(n,t){return n.map(function(n,e){return r(n,e,t)})})},p=function(n,r,t){return Array(n).fill(0).map(function(n,e){return Array(r).fill(0).map(function(n,r){return t(r,e)})})},s=function n(r,t){return r.map(function(r){return Array.isArray(r)?n(r,t):t()})},g=function(n){var r=n[0].length;if(!n.every(function(n){return n.length===r}))throw new Error("All rows in a matrix must have an equal amount of columns");return Array(r).fill(0).map(function(r,t){return n.map(function(n){return n[t]})})},d=function(n){return n.replace(/\/+$/,"")},v=function(n){return d(n.replace(/^(?:\/\/|[^/])+/,""))},y=function(n){return n.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")},w=function(n,r){var t=new RegExp(Object.keys(r).map(function(n){return y(n)}).join("|"),"g");return n.replace(t,function(n){return r[n]})},M=function(n,r){var t=new RegExp("".concat(r?"(^\\s*\\+?\\s*(".concat(r,"))?"):"","[^0-9]*"),"g");return[r,n.replace(t,"")].filter(function(n){return!!n}).join("")},b=function(n){var r=n.replace(/[^a-z]+([a-z])?/gi,function(n,r){return r?r.toUpperCase():""});return r[0].toLowerCase()+r.slice(1)},x=function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];for(var e=r.reduce(function(n,r){return r.split(":").length>n?r.split(":").length:n},0),u=Array(e).fill(0).map(function(n,t){return r.reduce(function(n,e,u){return n+Number(r[u].split(":")[t]||0)},0)}),o=e-2;o>=0;o--)u[o]+=Math.floor(u[o+1]/60),u[o+1]%=60;return u.map(function(n){return n<10?"0".concat(n):n}).join(":")},A=function(n){for(var r=n.slice(),t=r.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),u=[r[e],r[t]];r[t]=u[0],r[e]=u[1]}return r},E=function(n){var r=document.createElement("div");return r.innerHTML=n,Array.from(r.children)},j=function(){return window.innerWidth-document.body.clientWidth},S=function(){return window.innerHeight-document.body.clientHeight},T=function(n){var r={};return function(){for(var t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];var o=JSON.stringify(e);return r[o]||(r[o]=n.apply(void 0,e))}},O=function(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,e=null,u=null,o=function(){u=null,n.apply(void 0,arguments)};return function(){for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];u||(u=performance.now()),e&&(clearTimeout(e),e=null),t&&performance.now()-u>=t?o.apply(void 0,i):e=setTimeout(function(){return o.apply(void 0,i)},r)}},P=function(n,r){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var t=function(r){var t=r.changedTouches[0],e=t.clientX,u=t.clientY;this.startX=e,this.startY=u,n.addEventListener("touchend",this.onTouchEnd),n.addEventListener("touchmove",this.onTouchMove)};n.addEventListener("touchstart",t)},z=function(n,r){for(var t=Array(r+1).fill(0).map(function(n,r){return r}),e=2;e<=Math.sqrt(r+1);e++)for(var u=Math.pow(e,2);u<r+1;u+=e)delete t[u];return Object.values(t.slice(n))},L=function(n,r){var e=z(n,r);return e[t(0,e.length-1)]};return r}()});
},{}],"rgBl":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Cell=void 0;var r=function(){function t(n,r){e(this,t),this.flagged=!1,this.x=n,this.y=r}return n(t,[{key:"toggleFlag",value:function(){this.flagged=!this.flagged}}]),t}();exports.Cell=r;var o=r;exports.default=o;
},{}],"NIRW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Step=void 0;var t=e(require("./cell"));function e(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=l();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=function(e){o(u,t.default);var r=c(u);function u(t,e,o){var c;return n(this,u),(c=r.call(this,t,e)).mines=o,c}return u}();exports.Step=a;var p=a;exports.default=p;
},{"./cell":"rgBl"}],"seDA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Mine=void 0;var t=e(require("./cell"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=l();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?i(t):e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=function(e){o(u,t.default);var n=c(u);function u(t,e){return r(this,u),n.call(this,t,e)}return u}();exports.Mine=a;var p=a;exports.default=p;
},{"./cell":"rgBl"}],"kruH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Game=void 0;var e=require("@goodleby/lib"),t=r(require("./cell")),i=r(require("./step")),n=r(require("./mine"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return c(e)||o(e)||l(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"==typeof e)return h(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return h(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,i){return t&&u(e.prototype,t),i&&u(e,i),e}var v=function(){function r(i){var n=this;f(this,r),this._play=!1,this.fieldSize=10,this.cellSize=30,this.mines=15,this.area=Math.pow(this.fieldSize,2);var a=document.querySelector(i);if(!a)throw new Error("Passed `selector` did not match any DOM element");this.root=a,this.root.innerHTML="",this.messages=document.createElement("div"),this.messages.classList.add("messages"),this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=this.fieldSize*this.cellSize;var s=this.canvas.getContext("2d");if(!s)throw new Error("Canvas did not return context");this.ctx=s,this.root.append(this.messages),this.root.append(this.canvas),this.field=(0,e.getMatrix)(this.fieldSize,this.fieldSize,function(e,i){return new t.default(e,i)}),this.canvas.addEventListener("click",function(e){return n.handleMove(e)}),this.canvas.addEventListener("contextmenu",function(e){return n.handleFlag(e)}),this.createMines(),this.renderField(),this.play(),this.showMessage("Click to step and right click or long press to set a flag","info")}return d(r,[{key:"play",value:function(){this._play=!0}},{key:"pause",value:function(){this._play=!1}},{key:"lose",value:function(){this.pause(),this.renderMines(),this.showMessage("Sorry, you lost.","danger")}},{key:"win",value:function(){this.pause(),this.renderMines(!1),this.showMessage("You won!","success")}},{key:"getRandCoords",value:function(){var t=this,i=[];this.field.forEach(function(e){var n=e.filter(function(e){var i=e.x,n=e.y;return t.checkMine(i,n)||t.checkStep(i,n)||t.checkFlag(i,n)}).map(function(e){return e.x+e.y*t.fieldSize});i.push.apply(i,a(n))});var n=(0,e.getRandNum)(0,this.area-1,i),r=Math.floor(n/this.fieldSize);return{x:n-r*this.fieldSize,y:r}}},{key:"getSurroundingCells",value:function(e,t){for(var i=this.field,n=this.fieldSize,r=[],a=Math.max(t-1,0);a<=Math.min(t+1,n-1);a++)for(var s=Math.max(e-1,0);s<=Math.min(e+1,n-1);s++)s===e&&a===t||r.push(i[a][s]);return r}},{key:"renderField",value:function(){var e=this.fieldSize,t=this.ctx,i=this.cellSize;t.fillStyle="#000";for(var n=0;n<e;n++)for(var r=0;r<e;r++)t.fillRect(n*i+1,r*i+1,i-2,i-2)}},{key:"clearField",value:function(){var e=this.canvas,t=e.width,i=e.height;this.ctx.clearRect(0,0,t,i)}},{key:"renderMines",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=this.cellSize,n=this.ctx,r=this.field;n.fillStyle=t?"#f22":"#2f2",r.forEach(function(t){return t.forEach(function(t){var r=t.x,a=t.y;e.checkMine(r,a)&&n.fillRect(r*i+1,a*i+1,i-2,i-2)})})}},{key:"createMines",value:function(){for(var e=0;e<this.mines;e++){var t=this.getRandCoords(),i=t.x,r=t.y;this.field[r][i]=new n.default(i,r)}}},{key:"checkMine",value:function(e,t){return this.field[t][e]instanceof n.default}},{key:"checkFlag",value:function(e,t){return this.field[t][e].flagged}},{key:"renderStep",value:function(e){var t=e.x,i=e.y,n=this.cellSize,r=this.ctx;r.fillStyle="#aaa",r.fillRect(t*n+1,i*n+1,n-2,n-2),e.mines>0&&(r.fillStyle="#000",r.font="25px Arial",r.fillText(e.mines.toString(),t*n+8,i*n+n-7))}},{key:"step",value:function(e,t){var n=this,r=this.getSurroundingCells(e,t),a=r.filter(function(e){var t=e.x,i=e.y;return n.checkMine(t,i)}).length,s=new i.default(e,t,a);this.field[t][e]=s,this.renderStep(s),0===a&&r.filter(function(e){var t=e.x,i=e.y;return!n.checkStep(t,i)}).forEach(function(e){var t=e.x,i=e.y;return n.step(t,i)})}},{key:"checkStep",value:function(e,t){return this.field[t][e]instanceof i.default}},{key:"renderFlag",value:function(e){var t=e.x,i=e.y,n=this.ctx,r=this.cellSize;e.flagged?(n.fillStyle="#ff2",n.fillRect(t*r+1,i*r+1,r-2,r-2)):(n.fillStyle="#000",n.fillRect(t*r+1,i*r+1,r-2,r-2))}},{key:"toggleFlag",value:function(e,t){var i=this.field[t][e];i.toggleFlag(),this.renderFlag(i)}},{key:"checkWin",value:function(){var e=this;return this.field.every(function(t){return t.every(function(t){var i=t.x,n=t.y;return e.checkStep(i,n)||e.checkMine(i,n)})})}},{key:"handleMove",value:function(e){if(this._play){var t=Math.floor(e.offsetX/this.cellSize),i=Math.floor(e.offsetY/this.cellSize);if(!this.checkFlag(t,i))return this.checkMine(t,i)?this.lose():void(this.checkStep(t,i)||(this.step(t,i),this.checkWin()&&this.win()))}}},{key:"handleFlag",value:function(e){if(e.preventDefault(),this._play){var t=Math.floor(e.offsetX/this.cellSize),i=Math.floor(e.offsetY/this.cellSize);this.checkStep(t,i)||this.toggleFlag(t,i)}}},{key:"showMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",i=document.createElement("div");i.classList.add("message",t),i.innerText=e,this.messages.append(i)}}]),r}();exports.Game=v;var y=v;exports.default=y;
},{"@goodleby/lib":"ASXP","./cell":"rgBl","./step":"NIRW","./mine":"seDA"}],"QCba":[function(require,module,exports) {
"use strict";var e=r(require("./components/game"));function r(e){return e&&e.__esModule?e:{default:e}}var t=new e.default("#root");
},{"./components/game":"kruH"}]},{},["QCba"], null)
//# sourceMappingURL=src.25476ea3.js.map